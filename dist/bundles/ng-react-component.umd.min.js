!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/add/operator/share"),require("meepo-common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/add/operator/share","meepo-common"],t):t(e["ng-react-component"]={},e.ng.core,e.Rx.Observable.prototype,e.meepoCommon)}(this,function(e,t,n,r){"use strict";function i(e){return typeof e}function o(e,t){return(null===e||"object"!=typeof e&&"function"!=typeof e)&&(e={}),t&&(e=Object.assign({},e,t)),e}var s=function(){function e(e,n,i){this._differs=e,this.ele=n,this.render=i,this.stateChange=new t.EventEmitter,this.propsChange=new t.EventEmitter,this.onClick=new t.EventEmitter,this.guid=r.guid(),this.props={children:[]},this.state={}}return Object.defineProperty(e.prototype,"state$",{get:function(){return this.stateChange.share()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"props$",{get:function(){return this.propsChange.share()},enumerable:!0,configurable:!0}),e.prototype._onClick=function(e){this.onClick.emit(e)},e.prototype.setState=function(e){this._stateDiffer=this._differs.find(this.state).create(),this.state=o(this.state,e),this.ngDoCheck()},e.prototype.setProps=function(e){this._propsDiffer=this._differs.find(this.props).create(),this.props=o(this.props,e),this.ngDoCheck()},e.prototype.ngOnChanges=function(e){if("props"in e){var t=e.props.currentValue;this._propsDiffer=this._differs.find(t).create()}if("state"in e){t=e.state.currentValue;this._stateDiffer=this._differs.find(t).create()}},e.prototype.ngDoCheck=function(){var e;this._propsDiffer&&((e=this._propsDiffer.diff(this.props))&&this._propsChanges(e));this._stateDiffer&&((e=this._stateDiffer.diff(this.state))&&this._stateChanges(e))},e.prototype.setClass=function(e){for(var t in e)e[t]?this.render.addClass(this.ele.nativeElement,t):this.render.removeClass(this.ele.nativeElement,t)},e.prototype.setStyle=function(e){for(var t in e)this.render.setStyle(this.ele.nativeElement,t,e[t])},e.prototype.removeStyle=function(e){var t=this;"array"==i(e)?e.map(function(e){t.render.removeStyle(t.ele.nativeElement,e)}):this.render.removeStyle(this.ele.nativeElement,e)},e.prototype.addStyle=function(e,t){this.render.setStyle(this.ele.nativeElement,e,t)},e.prototype.addClass=function(e){this.render.addClass(this.ele.nativeElement,e)},e.prototype.setAttribute=function(e){for(var t in e)"boolean"===i(e[t])?e[t]?this.render.setAttribute(this.ele.nativeElement,t,"true"):this.render.removeAttribute(this.ele.nativeElement,t):this.render.setAttribute(this.ele.nativeElement,t,e[t])},e.prototype.removeClass=function(e){this.render.removeClass(this.ele.nativeElement,e)},e.prototype._stateChanges=function(e){this.onStateChange(e),this.stateChange.emit(this.state)},e.prototype._propsChanges=function(e){this.onPropsChange(e),this.propsChange.emit(this.props)},e}();s.propDecorators={state:[{type:t.Input}],props:[{type:t.Input}],stateChange:[{type:t.Output}],propsChange:[{type:t.Output}],onClick:[{type:t.Output}],_onClick:[{type:t.HostListener,args:["click",["$event"]]}]};var p=function(){return function(e,t,n){this.$implicit=e,this.ngForOf=t,this.key=n}}(),a=function(){function e(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._differ=null}return Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){if("ngEachOf"in e){var t=e.ngEachOf.currentValue;!this._differ&&t&&(this._differ=this._differs.find(t).create())}},e.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this.ngEachOf);e&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this,n=[];e.forEachItem(function(e){if(null==e.previousValue){var r=t._viewContainer.createEmbeddedView(t._template,new p(e.currentValue,t.ngEachOf,e.key),parseInt(e.key,16)),i=new f(e,r,parseInt(e.key,16));n.push(i)}else if(null==e.currentValue)t._viewContainer.remove(parseInt(e.key,16));else{r=t._viewContainer.get(parseInt(e.key,16));t._viewContainer.move(r,parseInt(e.key,16));i=new f(e.currentValue,r,parseInt(e.key,16));n.push(i)}})},e}();a.decorators=[{type:t.Directive,args:[{selector:"[ngEach][ngEachOf]"}]}],a.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.TemplateRef},{type:t.KeyValueDiffers}]},a.propDecorators={ngEachOf:[{type:t.Input}],ngForTemplate:[{type:t.Input}]};var f=function(){return function(e,t,n){this.record=e,this.view=t,this.index=n}}(),h=function(){function e(e){this.viewContainerRef=e}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){if(this.viewContainerRef.clear(),this.componentRef=null,this.ngComponent){var n=this.viewContainerRef.parentInjector,r=(this.moduleRef?this.moduleRef.componentFactoryResolver:n.get(t.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponent);this.componentRef=this.viewContainerRef.createComponent(r,this.viewContainerRef.length,n,this.ngComponent),this.componentRef.instance.props=this.ngComponentInput}},e}();h.decorators=[{type:t.Directive,args:[{selector:"[ngComponent]"}]}],h.ctorParameters=function(){return[{type:t.ViewContainerRef}]},h.propDecorators={ngComponent:[{type:t.Input}],ngComponentInput:[{type:t.Input}],Output:[{type:t.Output}]};var c=function(){return function(){}}();c.decorators=[{type:t.NgModule,args:[{exports:[a,h],declarations:[a,h]}]}],c.ctorParameters=function(){return[]},e.ReactComponent=s,e.ReactCommonModule=c,e.ɵc=h,e.ɵb=a,e.ɵa=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-react-component.umd.min.js.map
