!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/add/operator/share"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/add/operator/share","@angular/forms"],e):e(t["ng-react-component"]={},t.ng.core,t.Rx.Observable.prototype,t.ng.forms)}(this,function(t,e,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s};function a(t){return typeof t}var p=function(){function t(t,n,r){this._differs=t,this.ele=n,this.render=r,this.stateChange=new e.EventEmitter,this.propsChange=new e.EventEmitter,this.onClick=new e.EventEmitter,this.onHover=new e.EventEmitter,this.params={},this.props={children:[]},this.state={}}return Object.defineProperty(t.prototype,"state$",{get:function(){return this.stateChange.share()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"props$",{get:function(){return this.propsChange.share()},enumerable:!0,configurable:!0}),t.prototype._onClick=function(t){this.onClick.emit(t)},Object.defineProperty(t.prototype,"guid",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),t.prototype.createGuid=function(){return function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}()},t.prototype.getNative=function(){return this.ele.nativeElement},t.prototype.setState=function(t){this._stateDiffer=this._differs.find(this.state).create(),this.state=t,this.ngDoCheck()},t.prototype.setProps=function(t){this._propsDiffer=this._differs.find(this.props).create(),this.props=t,this.ngDoCheck()},t.prototype.ngOnChanges=function(t){if("props"in t){var e=t.props.currentValue;this._propsDiffer=this._differs.find(e).create()}if("state"in t){e=t.state.currentValue;this._stateDiffer=this._differs.find(e).create()}},t.prototype.ngDoCheck=function(){var t;this._propsDiffer&&((t=this._propsDiffer.diff(this.props))&&this._propsChanges(t));this._stateDiffer&&((t=this._stateDiffer.diff(this.state))&&this._stateChanges(t))},t.prototype.setClass=function(t,e){if(!(e=e||this.getNative()))return"";for(var n in t)t[n]?this.render.addClass(e,n):this.render.removeClass(e,n)},t.prototype.setStyle=function(t,e){if(!(e=e||this.getNative()))return"";for(var n in t){var r=s(n.split("."),2),i=r[0],o=r[1],a=t[n];a=null!=a&&o?""+a+o:a,i=this.humpToHyphen(i),this.render.setStyle(e,i,a)}},t.prototype.removeStyle=function(t,e){var n=this;if(!(e=e||this.getNative()))return"";"array"==a(t)&&"undefined"!==a(t)?t.map(function(t){n.render.removeStyle(e,t)}):this.render.removeStyle(e,t)},t.prototype.hyphenToHump=function(t){var e=new RegExp("//-(/w)/g");return t.replace(e,function(t,e){return e.toUpperCase()})},t.prototype.humpToHyphen=function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()},t.prototype.addStyle=function(t,e,n){if(!(n=n||this.getNative()))return"";this.render.setStyle(n,t,e)},t.prototype.addClass=function(t,e){if(!(e=e||this.getNative()))return"";this.render.addClass(this.ele.nativeElement,t)},t.prototype.setAttribute=function(t,e){if(!(e=e||this.getNative()))return"";for(var n in t)"boolean"===a(t[n])?t[n]?this.render.setAttribute(e,n,"true"):this.render.removeAttribute(e,n):this.render.setAttribute(e,n,t[n])},t.prototype.removeClass=function(t,e){if(!(e=e||this.getNative()))return"";this.render.removeClass(e,t)},t.prototype._stateChanges=function(t){this.onStateChange(t),this.stateChange.emit(this.state)},t.prototype._propsChanges=function(t){this.onPropsChange(t),this.propsChange.emit(this.props)},t.prototype.createMobileUrl=function(t,e,n){void 0===n&&(n=!1),e=e||{},(e=Object.assign({},e,this.params))["do"]=t,e.c=e.c||"entry",e.i=e.i||"2";var r=this.puts(e);return this.getRoot()+"/app/index.php"+r},t.prototype.createWebUrl=function(t,n,r){return void 0===r&&(r=!1),n=n||{},(n=Object.assign({},n,this.params))["do"]=t,n.c=n.c||"site",n.a=n.a||"entry",n.i=n.i||"2",!e.isDevMode()||r?this.getRoot()+"/web/index.php"+this.puts(n):"/assets/data/"+n.i+"/web/"+t+".json"},t.prototype.getRoot=function(){var t=window.location,n=(t.origin,t.protocol),r=(t.port,t.host);return e.isDevMode()?"https://meepo.com.cn":n+"//"+r},t.prototype.parseURL=function(){var t={};return location.search.replace(/^\?/,"").split("&").filter(function(t,e){if(""!==t&&t.indexOf("="))return!0}).forEach(function(e,n){var r=e.indexOf("="),i=e.substring(0,r),o=e.substring(r+1);t[i]=o}),t},t.prototype.get=function(t){var e=this.parseURL();return e[t]?e[t]:""},t.prototype.put=function(t,e,n){var r=this.parseURL();return n=(n=n||location.search).indexOf(t+"=")>-1?n.replace(t+"="+r[t],t+"="+e):n+"&"+t+"="+e},t.prototype.puts=function(t){var e=location.search;for(var n in t)e=this.put(n,t[n],e);return e},t}();p.propDecorators={state:[{type:e.Input}],props:[{type:e.Input}],stateChange:[{type:e.Output}],propsChange:[{type:e.Output}],onClick:[{type:e.Output}],onHover:[{type:e.Output}],_onClick:[{type:e.HostListener,args:["click",["$event"]]}],params:[{type:e.Input}],_id:[{type:e.HostBinding,args:["attr.id"]}]};var u=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r)||this;return s.fb=i,s._props=o,s.form=s.fb.group({}),s}return o(e,t),e.prototype.ngOnInit=function(){this.instance=this.instance||this._props.instance,this.instance&&(this.element=this.instance.ele.nativeElement)},e.prototype.objToArray=function(t){var e=[];for(var n in t)e.push({key:n,obj:t});return e},e.prototype.initStyleForm=function(){var t=this;for(var e in this.props.style)this.form.addControl(e,new r.FormControl(this.props.style[e]));this.form.valueChanges.subscribe(function(e){t.props.style=e,t.onStyleChange(e)})},e.prototype.checkFormField=function(t,e,n){n?n.contains(t)||n.addControl(t,new r.FormControl(e)):this.form.contains(t)||this.form.addControl(t,new r.FormControl(e))},e.prototype.getFormType=function(t,e){return typeof t.get(e).value},e.prototype.checkFormGroup=function(t,e){var n=this.fb.group({});for(var r in e)this.checkFormField(r,e[r],n);this.form.contains(t)||this.form.addControl(t,n)},e.prototype.onStyleChange=function(t){this.setStyle(t,this.instance.ele.nativeElement)},e.prototype.removeSelf=function(){var t=this._props.getPropsByUid(this.guid);this._props.removePropsByUid(t.uuid)},e}(p),f=function(){return function(t,e,n){this.$implicit=t,this.ngForOf=e,this.key=n}}(),c=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngEachOf"in t){var e=t.ngEachOf.currentValue;!this._differ&&e&&(this._differ=this._differs.find(e).create())}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngEachOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachItem(function(t){if(null==t.previousValue){var r=e._viewContainer.createEmbeddedView(e._template,new f(t.currentValue,e.ngEachOf,t.key),parseInt(t.key,16)),i=new h(t,r,parseInt(t.key,16));n.push(i)}else if(null==t.currentValue)e._viewContainer.remove(parseInt(t.key,16));else{r=e._viewContainer.get(parseInt(t.key,16));e._viewContainer.move(r,parseInt(t.key,16));i=new h(t.currentValue,r,parseInt(t.key,16));n.push(i)}})},t}();c.decorators=[{type:e.Directive,args:[{selector:"[ngEach][ngEachOf]"}]}],c.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.TemplateRef},{type:e.KeyValueDiffers}]},c.propDecorators={ngEachOf:[{type:e.Input}],ngForTemplate:[{type:e.Input}]};var h=function(){return function(t,e,n){this.record=t,this.view=e,this.index=n}}(),l=function(){function t(t){this.viewContainerRef=t}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){if(this.viewContainerRef.clear(),this.componentRef=null,this.ngComponent){var n=this.viewContainerRef.parentInjector,r=(this.moduleRef?this.moduleRef.componentFactoryResolver:n.get(e.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponent);this.componentRef=this.viewContainerRef.createComponent(r,this.viewContainerRef.length,n,this.ngComponent),this.componentRef.instance.props=this.ngComponentInput}},t}();l.decorators=[{type:e.Directive,args:[{selector:"[ngComponentPreview]"}]}],l.ctorParameters=function(){return[{type:e.ViewContainerRef}]},l.propDecorators={ngComponent:[{type:e.Input}],ngComponentInput:[{type:e.Input}],Output:[{type:e.Output}]};var d=function(){return function(){}}();d.decorators=[{type:e.NgModule,args:[{exports:[c,l],declarations:[c,l]}]}],d.ctorParameters=function(){return[]};var y=function(){return function(t,e,n,r,i,o,s,a){void 0===n&&(n={}),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s={}),void 0===a&&(a=[]),this.name=t,this.title=e,this.props=n,this.children=r,this.father=i,this.uuid=o,this.state=s,this.items=a,this.uuid=this.uuid||v()}}();function v(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}var g=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i._allChecked=!1,i._indeterminate=!1,i._displayData=[],i.data=[],i}return o(e,t),e.prototype._displayDataChange=function(t){this._displayData=t,this._refreshStatus()},e.prototype._refreshStatus=function(){var t=this._displayData.every(function(t){return t.disabled||t.checked}),e=this._displayData.every(function(t){return t.disabled||!t.checked});this._allChecked=t,this._indeterminate=!t&&!e},e.prototype._checkAll=function(t){t?this._displayData.forEach(function(t){t.disabled||(t.checked=!0)}):this._displayData.forEach(function(t){return t.checked=!1}),this._refreshStatus()},e}(p);t.ReactComponent=p,t.ReactComponentSetting=u,t.ReactCommonModule=d,t.CreateLib=y,t.uuid=v,t.ReactComponentList=g,t.ɵc=l,t.ɵb=c,t.ɵa=f,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-react-component.umd.min.js.map
